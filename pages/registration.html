
<!DOCTYPE html>
<html>
    <head>
        <title>Registration Form</title>
        <style>
            .error-message{
                color: rgb(255, 0, 0);
                font-size: 12px;
                font-weight: normal;
            }
        </style>
        <link rel="stylesheet" type="text/css" href="css/register.css">
        <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    </head>
    <body>
        <div class="register-container">
        <form autocomplete="off" action="save.php" method="post" class="registration-form" onsubmit="return validateform()">
            
            <h1><b>Register</b></h1>
            <div class="input-box">
                <input type="text" id="username" name="username" placeholder="Username" required>
                <i class='bx bxs-user'></i>
            <span id="username-error" class="error-message"></span><br>
            </div>

            <div class="input-box">
            <input type="email" id="Email" name="email" placeholder="Email" required>
            <i class='bx bxs-envelope'></i>
            <span id="email-error" class="error-message"></span><br>
            </div>
            
            <div class="input-box">
            <input type="text" id="Password" name="password" placeholder="Password" required>
            <i class='bx bxs-lock-alt' ></i>
            <span id="password-error" class="error-message"></span><br>
            </div>
            
            <div class="input-box">
            <input type="password" id="confirm_password" name="confirm_password" placeholder="Confirm Password" required>
            <img src="/whiteeye.png" onclick="pass()" class="pass-icon" id="pass-icon">
            <!-- <i class='bx bxs-lock-alt' ></i> -->
            <span id="confirm-password-error" class="error-message"></span><br>
            </div>
            
            
            <div class="input-box">
            <input type="text" id="country" name="country" placeholder="Country">
            <i class='bx bx-globe'></i>
            </div>

            <div class="input-box-dropdown">
                <select id="gender" name="gender">
                    <option value="">Select Gender</option>
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                    <option value="other">Other</option>
                </select><br>
            </div>

            <div class="terms">
            <label><input type="checkbox" id="terms" required>I agree to the <a href="#">terms of service</a></label><br>
            </div>

            
            <button type="submit" class="button">Register</button> 
        </form>
        </div>
        <script src="hideshow.js"></script>
        <script>
            function validateform(){
                var username= document.getElementById("username").value;
                var email= document.getElementById("Email").value;
                var password= document.getElementById("Password").value;
                var confirm_password= document.getElementById("confirm_password").value;
                var gender= document.getElementById("gender").value;

                var usernameInput = document.getElementById("username");
                var emailInput = document.getElementById("Email");
                var passwordInput = document.getElementById("Password");
                var confirmPasswordInput = document.getElementById("confirm_password");
                var genderInput = document.getElementById("gender");

                if(username.length < 3){
                    document.getElementById("username-error").innerText="Username must be atleast 3 characters";
                    usernameInput.style.border = "1px solid red";
                    return false;
                }else{
                    document.getElementById("username-error").innerText = "";
                    usernameInput.style.border = "";
                }

                var emailRegex =  /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if(!emailRegex.test(email)){
                    document.getElementById("email-error").innerText = "Invalid email format";
                    emailInput.style.border ="1px solid red";
                    return false;
                }else{
                    document.getElementById("email-error").innerText = "";
                    emailInput.style.border ="";
                }

                var passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;
                if(!passwordRegex.test(password)){
                    document.getElementById("password-error").innerText = "Password must be 8 characters & contain (!@#$%^&*)";
                    passwordInput.style.border = "1px solid red";
                    return false;
                }else{
                    document.getElementById("password-error").innerText = "";
                    passwordInput.style.border = "";
                }

                if(password!==confirm_password){
                    document.getElementById("confirm-password-error").innerText = "Passwords do not match";
                    confirmPasswordInput.style.border = "1px solid red";
                    return false;
                }else{
                    document.getElementById("confirm-password-error").innerText = "";
                    confirmPasswordInput.style.border = "";
                }

                if(gender === ""){
                    alert("Please select your gender");
                    genderInput.style.border = "1px solid red";
                    return false;
                }else{
                    genderInput.style.border = "";
                }
                return true;
                }
        </script>
    </body>
</html>